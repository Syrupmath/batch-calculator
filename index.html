<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Batched Cocktail Calculator</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <main>
        <div class="container mt-5">
            <header class="bg-success text-white text-center py-3 rounded">
                <h1>Batched Cocktail Calculator</h1>
            </header>
            <section id="recipe-input" class="step mt-4">
                <h2>Step 1: Enter Your Recipe</h2>
                <p>Enter the name of your cocktail below. Then, enter your base recipe in the ingredient field, adding any additional ingredients as needed.</p>
                <form>
                    <div class="form-group">
                        <label for="recipe-name">Recipe Name:</label>
                        <input type="text" id="recipe-name" name="recipe-name" class="form-control" placeholder="E.g., Manhattan">
                        <span id="recipe-name-error" class="text-danger"></span>
                    </div>
                    
                    <div id="ingredients">
                        <div class="form-row align-items-center mb-3" id="ingredient-1">
                            <div class="col-md-6">
                                <input type="text" id="ingredient-name-1" name="ingredient-name-1" class="form-control" placeholder="Ingredient Name">
                                <span class="text-danger ingredient-name-error"></span>
                            </div>
                            <div class="col-md-4">
                                <div class="input-group">
                                    <input type="number" id="ingredient-quantity-1" name="ingredient-quantity-1" class="form-control" placeholder="Quantity">
                                    <div class="input-group-append">
                                        <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" id="ingredient-unit-button-1">Ounces</button>
                                        <div class="dropdown-menu">
                                            <a class="dropdown-item" href="#" onclick="setUnit(1, 'Ounces')">Ounces</a>
                                            <a class="dropdown-item" href="#" onclick="setUnit(1, 'Milliliters')">Milliliters</a>
                                            <a class="dropdown-item" href="#" onclick="setUnit(1, 'Dashes')">Dashes</a>
                                            <a class="dropdown-item" href="#" onclick="setUnit(1, 'Teaspoons')">Teaspoons</a>
                                        </div>
                                    </div>
                                    <input type="hidden" id="ingredient-unit-1" name="ingredient-unit-1" value="ounces">
                                </div>
                                <span class="text-danger ingredient-quantity-error"></span>
                            </div>
                            <div class="col-md-2">
                                <button type="button" class="btn btn-danger btn-sm" onclick="removeIngredient('ingredient-1')">Ã—</button>
                            </div>
                        </div>
                    </div>
                    
                    <button type="button" id="add-ingredient" class="btn btn-primary mt-3" onclick="addIngredient()">Add Ingredient</button>
                </form>
            </section>
            
            <section id="batch-size-input" class="step mt-4">
                <h2>Step 2: Determine Your Batch Size</h2>
                <p>How big of a batch do you need? Choose a specific number of servings, or alternatively, enter the size of the container you're looking to fill.</p>
                <form>
                    <div class="form-group">
                        <label for="num-servings">Number of Servings:</label>
                        <input type="number" id="num-servings" name="num-servings" class="form-control" placeholder="E.g., 10">
                        <span id="num-servings-error" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label for="total-volume">Total Volume:</label>
                        <input type="number" id="total-volume" name="total-volume" class="form-control" placeholder="E.g., 750">
                        <select id="total-volume-unit" name="total-volume-unit" class="form-control mt-2">
                            <option value="milliliters">Milliliters</option>
                            <option value="liters">Liters</option>
                        </select>
                        <span id="total-volume-error" class="text-danger"></span>
                    </div>
                </form>
            </section>

            <section id="dilution-input" class="step mt-4">
                <h2>Step 3: Choose Dilution</h2>
                <p>Would you like to pre-dilute your batch? You can choose dilution for stirred cocktails (typically used for spirit-driven drinks) or shaken cocktails (typically drinks that contain juice or dairy). Alternatively, you can select zero dilution if you're going to shake or stir your drinks to order.</p>
                <form>
                    <div class="form-group">
                        <label for="dilution">Dilution:</label>
                        <select id="dilution" name="dilution" class="form-control">
                            <option value="0">0% - No Dilution</option>
                            <option value="18">18% - Best for Stirred Cocktails</option>
                            <option value="25">25% - Best for Shaken Cocktails</option>
                        </select>
                        <span id="dilution-error" class="text-danger"></span>
                    </div>
                </form>
            </section>
            
            <section id="calculate-totals" class="step mt-4">
                <h2>Step 4: Calculate Totals</h2>
                <p>Click "Calculate" to determine your batched cocktail recipe. Note that the batched recipe will be displayed in the same system your original recipe used.</p>
                <button type="button" id="calculate" class="btn btn-success" onclick="calculateRecipe()">Calculate</button>
                <span id="calculate-error" class="text-danger"></span>
            </section>
            
            <section id="output" style="display: none;" class="mt-4">
                <div id="recipe-name-container">
                    <h2 id="output-recipe-name"></h2>
                </div>
                <div id="original-recipe-container">
                    <h2>Original Recipe</h2>
                    <div id="original-recipe">
                        <!-- Original recipe will be displayed here -->
                    </div>
                </div>
                <div id="scaled-recipe-container">
                    <h2>Scaled Recipe</h2>
                    <div id="scaled-recipe">
                        <!-- Scaled recipe will be displayed here -->
                    </div>
                </div>
                <button type="button" id="print-recipe" class="btn btn-secondary" onclick="window.print()">Print Recipe</button>
            </section>
        </div>
    </main>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
